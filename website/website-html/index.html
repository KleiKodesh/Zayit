<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Zayit - Jewish Study Library | Free Torah & Talmud Reader</title>
    <meta name="description" content="Zayit - The study library that goes straight to the text. A free desktop app to read, search, and explore Jewish study texts including Torah, Talmud, Midrash, and more.">
    
    <link rel="icon" type="image/png" href="public/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="public/favicon.svg">
    <link rel="shortcut icon" href="public/favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Title Bar -->
    <header class="title-bar">
        <div class="title-bar-container">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <a href="#" class="title-bar-logo">
                    <img src="public/icon.png" alt="Zayit">
                    <span>Zayit</span>
                </a>
            </div>

            <div class="title-bar-controls">
                <a href="https://github.com/kdroidFilter/SeforimApp" target="_blank" rel="noopener noreferrer" class="title-bar-button source-button">
                    <svg class="icon-sm">
                        <use href="icons.svg#github"></use>
                    </svg>
                    <span class="en-text">Source</span>
                    <span class="he-text hidden">קוד</span>
                </a>
                <a href="https://ko-fi.com/lomityaesh" target="_blank" rel="noopener noreferrer" class="title-bar-button support-button">
                    <svg class="icon-sm">
                        <use href="icons.svg#coffee"></use>
                    </svg>
                    <span class="en-text">Support</span>
                    <span class="he-text hidden">תמיכה</span>
                </a>
                <button class="title-bar-button theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <svg class="icon theme-icon-light">
                        <use href="icons.svg#sun"></use>
                    </svg>
                    <svg class="icon theme-icon-dark hidden">
                        <use href="icons.svg#moon"></use>
                    </svg>
                </button>
                <button class="title-bar-button lang-toggle" onclick="toggleLanguage()" id="langToggle">
                    ע
                </button>
                <a href="download.html" class="title-bar-button cta-button">
                    <svg class="icon-sm">
                        <use href="icons.svg#download"></use>
                    </svg>
                    <span class="en-text">Download</span>
                    <span class="he-text hidden">הורדה</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Page Indicators -->
    <div class="page-indicators">
        <div class="page-indicator active" data-section="hero" data-label-en="Home" data-label-he="בית" onclick="scrollToSection('hero')"></div>
        <div class="page-indicator" data-section="vision" data-label-en="Vision" data-label-he="חזון" onclick="scrollToSection('vision')"></div>
        <div class="page-indicator" data-section="features" data-label-en="Features" data-label-he="תכונות" onclick="scrollToSection('features')"></div>
        <div class="page-indicator" data-section="search" data-label-en="Search" data-label-he="חיפוש" onclick="scrollToSection('search')"></div>
    </div>

    <!-- Hero Section - Value-First Product Showcase -->
    <section id="hero" class="hero-layout page-section">
        <div class="content-block">
            
            <h1 class="main-title">
                <span class="en-text">Professional jewish study library</span>
                <span class="he-text hidden">ספרייה מקצועית ללימוד תורה</span>
            </h1>
            
            <p class="main-description">
                <span class="en-text">Featuring a free multiplatform desktop application for study of jewish texts</span>
                <span class="he-text hidden">אפליקצייה חינמית חוצה פלטפורמות ללימוד טקסטים יהודיים</span>
            </p>
            
            <div class="stats-row">
                <div class="stat">
                    <div class="stat-number">6,800+</div>
                    <div class="stat-label">
                        <span class="en-text">Books</span>
                        <span class="he-text hidden">ספרים</span>
                    </div>
                </div>
                <div class="stat">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">
                        <span class="en-text">Offline</span>
                        <span class="he-text hidden">לא מקוון</span>
                    </div>
                </div>
                <div class="stat">
                    <div class="stat-number">0$</div>
                    <div class="stat-label">
                        <span class="en-text">Forever</span>
                        <span class="he-text hidden">לתמיד</span>
                    </div>
                </div>            
            </div> 
        </div>
        
        <div class="visual-container hero-size">
            <div class="preview-frame tilt-left">
                <img src="public/art/HOME-LIGHT.png" alt="Zayit Application" class="theme-image light-image screenshot">
                <img src="public/art/HOME-DARK.png" alt="Zayit Application" class="theme-image dark-image screenshot hidden">
                <div class="preview-glow"></div>
            </div>
        </div>
    </section>

    <!-- Vision & Spirit Section -->
    <section id="vision" class="section page-section vision-section">
        <div class="section-container">
            <!-- Vision Quote Block -->
            <div class="vision-quote">
                <div class="quote-mark">"</div>
                <blockquote class="vision-text">
                    <span class="en-text"><span class="vision-highlight">Zayit is a dream come true:</span> a natural, fluid, and intuitive study experience. <br/>The project will remain free by principle. With Hashem's help, Zayit will keep growing without losing its spirit. Support is welcome and meaningful.</span>
                    <span class="he-text hidden"><span class="vision-highlight">זית הוא חלום שהתגשם:</span> חוויית לימוד טבעית, זורמת ואינטואיטיבית. <br/>הפרויקט הינו חינמי מתוך עיקרון חזק. ובעזרת השם, זית ימשיך לגדול מבלי לאבד את רוחו. תמיכתכם חשובה לנו ותתקבל בברכה.</span>
                </blockquote>
                <div class="quote-attribution">
                    <span class="en-text">Vision</span>
                    <span class="he-text hidden">חזון</span>
                </div>
            </div>
            
            <!-- Spirit Quote Block -->
            <div class="spirit-quote">
                <div class="quote-mark">"</div>
                <blockquote class="spirit-text">
                    <span class="en-text">Zayit is designed like a <span class="spirit-highlight">digital study hall:</span> stable, fast, consistent. You feel the calm of study: everything works, everything is in its place. The text stays at the center, with respect and without distractions.</span>
                    <span class="he-text hidden">זית מעוצב כמו <span class="spirit-highlight">בית מדרש דיגיטלי:</span> יציב, מהיר ועקבי. אתה מרגיש את השקט של הלימוד: הכל עובד, הכל במקומו. הטקסט נשאר במרכז, בכבוד וללא הסחות דעת.</span>
                </blockquote>
                <div class="quote-attribution">
                    <span class="en-text">In the spirit of a study hall</span>
                    <span class="he-text hidden">ברוח בית המדרש</span>
                </div>
            </div>
            
            <!-- Interface Quote Block -->
            <div class="interface-quote">
                <div class="quote-mark">"</div>
                <blockquote class="interface-text">
                    <span class="en-text"><span class="interface-highlight">A pro and natural interface:</span> Built on JetBrains technologies, including Compose Desktop and Jewel. Inspired by Google Chrome and IntelliJ IDEA, it offers a professional interface that is fluid and natural, enhances study experience, and does not strain the eyes.</span>
                    <span class="he-text hidden"><span class="interface-highlight">ממשק מקצועי וטבעי:</span> בנוי על טכנולוגיות JetBrains, כולל Compose Desktop ו-Jewel. בהשראת Google Chrome ו-IntelliJ IDEA, התוכנה מציעה ממשק מקצועי זורם וטבעי, משפרת את חוויית הלימוד, ואיננה מעייפת את העיניים.</span>
                </blockquote>
                <div class="quote-attribution">
                    <span class="en-text">Professional Interface</span>
                    <span class="he-text hidden">ממשק מקצועי</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="section page-section features-section">
        <div class="section-container">
            <div class="features-header">
                <h2 class="section-title">
                    <span class="en-text">What Zayit lets you do</span>
                    <span class="he-text hidden">מה זית מאפשר לך לעשות</span>
                </h2>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg class="icon">
                            <use href="icons.svg#search"></use>
                        </svg>
                    </div>
                    <p class="feature-text">
                        <span class="en-text">Find a passage in seconds with simple or advanced search</span>
                        <span class="he-text hidden">מצא קטע תוך שניות עם חיפוש פשוט או מתקדם</span>
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg class="icon">
                            <use href="icons.svg#book"></use>
                        </svg>
                    </div>
                    <p class="feature-text">
                        <span class="en-text">Explore the library by book title and table of contents</span>
                        <span class="he-text hidden">חקור את הספרייה לפי כותרת הספר ותוכן העניינים</span>
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg class="icon">
                            <use href="icons.svg#book-search"></use>
                        </svg>
                    </div>
                    <p class="feature-text">
                        <span class="en-text">Study content, prepare a lesson, and review your learning</span>
                        <span class="he-text hidden">למד תוכן, הכן שיעור וסקור את הלימוד שלך</span>
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg class="icon">
                            <use href="icons.svg#layout-sidebar"></use>
                        </svg>
                    </div>
                    <p class="feature-text">
                        <span class="en-text">Show commentaries and targumim in natural reading order beside the text</span>
                        <span class="he-text hidden">הצג פירושים ותרגומים בסדר קריאה טבעי לצד הטקסט</span>
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg class="icon">
                            <use href="icons.svg#zap"></use>
                        </svg>
                    </div>
                    <p class="feature-text">
                        <span class="en-text">Fast and easy access to the sources of any text</span>
                        <span class="he-text hidden">גישה מהירה וקלה למקורות של כל טקסט</span>
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg class="icon">
                            <use href="icons.svg#copy"></use>
                        </svg>
                    </div>
                    <p class="feature-text">
                        <span class="en-text">Copy clean texts and share them with others</span>
                        <span class="he-text hidden">העתק טקסטים נקיים ושתף אותם עם אחרים</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section id="search" class="hero-layout page-section">
        <div class="content-block">
            <h2 class="main-title">
                <span class="en-text">An exceptional search engine</span>
                <span class="he-text hidden">מנוע חיפוש יוצא דופן</span>
            </h2>
            
            <p class="main-description">
                <span class="en-text">A powerful engine designed to understand texts, not just find them. The database was rebuilt to make search and navigation precise.</span>
                <span class="he-text hidden">מנוע חזק שתוכנן להבין טקסטים, לא רק למצוא אותם. מסד הנתונים נבנה מחדש כדי להפוך את החיפוש והניווט למדויקים.</span>
            </p>
            
            <div class="stats-row">
                <div class="stat">
                    <div class="stat-number">
                        <span class="en-text">Fast</span>
                        <span class="he-text hidden">מהיר</span>
                    </div>
                    <div class="stat-label">
                        <span class="en-text">Results</span>
                        <span class="he-text hidden">תוצאות</span>
                    </div>
                </div>
                <div class="stat">
                    <div class="stat-number">
                        <span class="en-text">Smart</span>
                        <span class="he-text hidden">חכם</span>
                    </div>
                    <div class="stat-label">
                        <span class="en-text">Search</span>
                        <span class="he-text hidden">חיפוש</span>
                    </div>
                </div>
                <div class="stat">
                    <div class="stat-number">
                        <span class="en-text">Precise</span>
                        <span class="he-text hidden">מדויק</span>
                    </div>
                    <div class="stat-label">
                        <span class="en-text">Navigation</span>
                        <span class="he-text hidden">ניווט</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="visual-container search-size">
            <div class="preview-frame tilt-right">
                <img src="public/art/DB-SEARCH-SIMPLE-LIGHT.png" alt="Search Engine Demo" class="theme-image light-image screenshot">
                <img src="public/art/DB-SEARCH-SIMPLE-DARK.png" alt="Search Engine Demo" class="theme-image dark-image screenshot hidden">
                <div class="preview-glow"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="section-container">
            <p class="footer-text">
                <span class="en-text">Built with love by Elie Gambache ❤</span>
                <span class="he-text hidden">נבנה באהבה על ידי אלי גמבש ❤</span>
            </p>
            <p class="footer-license">
                <span class="en-text">Free and open source under AGPL v3</span>
                <span class="he-text hidden">חינמי וקוד פתוח תחת רישיון AGPL v3</span>
            </p>
        </div>
    </footer>

    <script>
        let isDark = localStorage.getItem('theme') === 'light' ? false : 
                    (localStorage.getItem('theme') === 'dark' || !localStorage.getItem('theme') || window.matchMedia('(prefers-color-scheme: dark)').matches);
        let isHebrew = localStorage.getItem('language') === 'he' || false;

        // Theme management
        function applyTheme() {
            const lightImages = document.querySelectorAll('.light-image');
            const darkImages = document.querySelectorAll('.dark-image');
            
            if (isDark) {
                document.documentElement.classList.add('dark');
                document.querySelector('.theme-icon-light').classList.add('hidden');
                document.querySelector('.theme-icon-dark').classList.remove('hidden');
                
                lightImages.forEach(img => img.classList.add('hidden'));
                darkImages.forEach(img => img.classList.remove('hidden'));
            } else {
                document.documentElement.classList.remove('dark');
                document.querySelector('.theme-icon-light').classList.remove('hidden');
                document.querySelector('.theme-icon-dark').classList.add('hidden');
                
                lightImages.forEach(img => img.classList.remove('hidden'));
                darkImages.forEach(img => img.classList.add('hidden'));
            }
        }

        function toggleTheme() {
            isDark = !isDark;
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            applyTheme();
        }

        // Language toggle
        function toggleLanguage() {
            isHebrew = !isHebrew;
            localStorage.setItem('language', isHebrew ? 'he' : 'en');
            
            // Update HTML attributes
            document.documentElement.dir = isHebrew ? 'rtl' : 'ltr';
            
            // Update language toggle button
            const langToggle = document.getElementById('langToggle');
            if (langToggle) {
                langToggle.textContent = isHebrew ? 'en' : 'ע';
            }
            
            // Toggle text visibility
            const enTexts = document.querySelectorAll('.en-text');
            const heTexts = document.querySelectorAll('.he-text');
            
            if (isHebrew) {
                enTexts.forEach(el => el.classList.add('hidden'));
                heTexts.forEach(el => el.classList.remove('hidden'));
            } else {
                enTexts.forEach(el => el.classList.remove('hidden'));
                heTexts.forEach(el => el.classList.add('hidden'));
            }
            
            // Update page indicator labels
            updatePageIndicatorLabels();
        }

        // Update page indicator labels based on current language
        function updatePageIndicatorLabels() {
            const indicators = document.querySelectorAll('.page-indicator');
            indicators.forEach(indicator => {
                const labelKey = isHebrew ? 'data-label-he' : 'data-label-en';
                const label = indicator.getAttribute(labelKey);
                indicator.setAttribute('data-current-label', label);
            });
        }

        // Load download count
        async function loadDownloadCount() {
            try {
                const response = await fetch('public/download-count.json');
                const data = await response.json();
                const countElements = document.querySelectorAll('#downloadCount, #heroDownloadCount');
                countElements.forEach(element => {
                    if (element && data.count) {
                        element.textContent = `+${data.count.toLocaleString()} downloads`;
                    }
                });
            } catch (error) {
                console.log('Could not load download count');
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            applyTheme();
            loadDownloadCount();
            initializePageIndicators();
            updatePageIndicatorLabels(); // Initialize page indicator labels
            
            // Set initial language
            if (isHebrew) {
                document.documentElement.dir = 'rtl';
                document.getElementById('langToggle').textContent = 'en';
                
                // Show Hebrew text, hide English
                document.querySelectorAll('.en-text').forEach(el => el.classList.add('hidden'));
                document.querySelectorAll('.he-text').forEach(el => el.classList.remove('hidden'));
            }
        });

        // Page indicators functionality
        function initializePageIndicators() {
            const sections = document.querySelectorAll('.page-section');
            const indicators = document.querySelectorAll('.page-indicator');
            
            // Intersection Observer for automatic indicator updates
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;
                        updateActiveIndicator(sectionId);
                    }
                });
            }, {
                threshold: 0.5,
                rootMargin: '-10% 0px -10% 0px'
            });

            // Observe all sections
            sections.forEach(section => {
                observer.observe(section);
            });
        }

        function updateActiveIndicator(sectionId) {
            const indicators = document.querySelectorAll('.page-indicator');
            indicators.forEach(indicator => {
                if (indicator.dataset.section === sectionId) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
            
            // Update body data attribute for background changes
            document.body.setAttribute('data-section', sectionId);
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Handle system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
            if (!localStorage.getItem('theme')) {
                isDark = e.matches;
                applyTheme();
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
